Implement the router (Lorenzo is working on this)

Implement Upload support

Test and fix bugs
